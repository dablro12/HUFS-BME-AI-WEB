{"ast":null,"code":"var _jsxFileName = \"/Users/jeong-yeongjin/HUFS-BME-AI-WEB/HUFS-BME-AI-WEB/WEB/mainpage/client/src/components/LoginSignUp.js\";\nimport React, { Component } from 'react';\nimport Login from './Login';\nimport Signin from './Signin';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass LoginSignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLogout = () => {\n      fetch(\"/logout\").then(res => res.json()).then(json => {\n        if (json.isSuccess === \"True\") {\n          this.setState({\n            mode: \"LOGIN\"\n          });\n          document.cookie = \"userLoggedIn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n        } else {\n          alert(json.isSuccess);\n        }\n      }).catch(error => {\n        console.error(\"로그아웃 오류:\", error);\n        this.setState({\n          mode: \"LOGIN\"\n        });\n        document.cookie = \"userLoggedIn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n      });\n    };\n    this.state = {\n      mode: \"\"\n    };\n  }\n  componentDidMount() {\n    fetch(\"/authcheck\").then(res => res.json()).then(json => {\n      if (json.isLogin === \"True\") {\n        this.setState({\n          mode: \"WELCOME\"\n        });\n      } else {\n        this.setState({\n          mode: \"LOGIN\"\n        });\n      }\n    });\n  }\n  render() {\n    let content = null;\n    if (this.state.mode === \"LOGIN\") {\n      content = /*#__PURE__*/_jsxDEV(Login, {\n        setMode: mode => this.setState({\n          mode\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this);\n    } else if (this.state.mode === 'SIGNIN') {\n      content = /*#__PURE__*/_jsxDEV(Signin, {\n        setMode: mode => this.setState({\n          mode\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this);\n    } else if (this.state.mode === 'WELCOME') {\n      content = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uBA54\\uC778 \\uD398\\uC774\\uC9C0\\uC5D0 \\uC624\\uC2E0 \\uAC83\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uB85C\\uADF8\\uC778\\uC5D0 \\uC131\\uACF5\\uD558\\uC168\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleLogout,\n          children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background\",\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n}\nexport default LoginSignUp;","map":{"version":3,"names":["React","Component","Login","Signin","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginSignUp","constructor","props","handleLogout","fetch","then","res","json","isSuccess","setState","mode","document","cookie","alert","catch","error","console","state","componentDidMount","isLogin","render","content","setMode","fileName","_jsxFileName","lineNumber","columnNumber","children","onClick","className"],"sources":["/Users/jeong-yeongjin/HUFS-BME-AI-WEB/HUFS-BME-AI-WEB/WEB/mainpage/client/src/components/LoginSignUp.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Login from './Login';\nimport Signin from './Signin';\n\nclass LoginSignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mode: \"\"\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/authcheck\")\n      .then((res) => res.json())\n      .then((json) => {        \n        if (json.isLogin === \"True\") {\n          this.setState({ mode: \"WELCOME\" });\n        } else {\n          this.setState({ mode: \"LOGIN\" });\n        }\n      });\n  }\n\n  handleLogout = () => {\n    fetch(\"/logout\")\n      .then((res) => res.json())\n      .then((json) => {\n        if (json.isSuccess === \"True\") {\n          this.setState({ mode: \"LOGIN\" });\n          document.cookie = \"userLoggedIn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n        } else {\n          alert(json.isSuccess);\n        }\n      })\n      .catch((error) => {\n        console.error(\"로그아웃 오류:\", error);\n        this.setState({ mode: \"LOGIN\" });\n        document.cookie = \"userLoggedIn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n      });\n  };\n\n  render() {\n    let content = null;  \n\n    if(this.state.mode === \"LOGIN\"){\n      content = <Login setMode={mode => this.setState({ mode })} /> \n    } else if (this.state.mode === 'SIGNIN') {\n      content = <Signin setMode={mode => this.setState({ mode })} /> \n    } else if (this.state.mode === 'WELCOME') {\n      content = <>\n        <h2>메인 페이지에 오신 것을 환영합니다</h2>\n        <p>로그인에 성공하셨습니다.</p> \n        <button onClick={this.handleLogout}>로그아웃</button>   \n      </>\n    }\n\n    return (\n      <>\n        <div className=\"background\">\n          {content}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default LoginSignUp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}